{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction RegistroComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" Este campo es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistroComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" Este campo es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistroComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \" Este campo es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistroComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.successMessage, \" \");\n  }\n}\n\nexport let RegistroComponent = /*#__PURE__*/(() => {\n  class RegistroComponent {\n    constructor(http, router) {\n      this.http = http;\n      this.router = router;\n      this.nombre = '';\n      this.email = '';\n      this.password = '';\n      this.errorMessage = '';\n      this.validar = '';\n      this.successMessage = '';\n    }\n\n    ngOnInit() {\n      if (localStorage.getItem(\"token\")) {\n        this.router.navigate(['/perfil']);\n      }\n    }\n\n    registrarUsuario() {\n      if (this.validarCampos()) {\n        const url = environment.backendUrl + 'registro';\n        const usuario = {\n          nombre: this.nombre,\n          email: this.email,\n          password: this.password\n        };\n        this.http.post(url, usuario).subscribe({\n          next: response => {\n            this.successMessage = 'Usuario registrado exitosamente.';\n          },\n          error: error => {\n            console.error('Error en el registro:', error);\n            this.errorMessage = error.error.message;\n          }\n        });\n      }\n    }\n\n    nombreValido() {\n      this.validar = 'Este campo es obligatorio';\n      return !!this.nombre; // Verifica si el campo \"nombre\" no está vacío\n    }\n\n    emailValido() {\n      this.validar = 'Este campo es obligatorio';\n      return !!this.email; // Verifica si el campo \"email\" no está vacío\n    }\n\n    passwordValido() {\n      this.validar = 'Este campo es obligatorio';\n      return !!this.password; // Verifica si el campo \"email\" no está vacío\n    }\n\n    validarCampos() {\n      if (!this.nombre || !this.email || !this.password) {\n        this.errorMessage = 'Todos los campos son requeridos.';\n        return false;\n      }\n\n      return true;\n    }\n\n  }\n\n  RegistroComponent.ɵfac = function RegistroComponent_Factory(t) {\n    return new (t || RegistroComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  RegistroComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegistroComponent,\n    selectors: [[\"app-registro\"]],\n    decls: 31,\n    vars: 7,\n    consts: [[\"lang\", \"en\"], [\"content\", \"text/html; charset=utf-8\"], [\"rel\", \"stylesheet\", \"href\", \"https://bootswatch.com/5/zephyr/bootstrap.min.css\"], [1, \"login-box\"], [3, \"ngSubmit\"], [\"registroForm\", \"ngForm\"], [1, \"user-box\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"id\", \"Registrarse\", 1, \"btn\", \"btn-secondary\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-success\"]],\n    template: function RegistroComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1);\n        i0.ɵɵelementStart(3, \"title\");\n        i0.ɵɵtext(4, \"Registro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"link\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"body\")(7, \"main\")(8, \"div\", 3)(9, \"h2\");\n        i0.ɵɵtext(10, \"Registro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function RegistroComponent_Template_form_ngSubmit_11_listener() {\n          return ctx.registrarUsuario();\n        });\n        i0.ɵɵelementStart(13, \"div\", 6)(14, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.nombre = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"label\");\n        i0.ɵɵtext(16, \"Usuario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, RegistroComponent_div_17_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 6)(19, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"label\");\n        i0.ɵɵtext(21, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, RegistroComponent_div_22_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 6)(24, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_24_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"label\");\n        i0.ɵɵtext(26, \"Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(27, RegistroComponent_div_27_Template, 2, 0, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"button\", 11);\n        i0.ɵɵtext(29, \"Registrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, RegistroComponent_div_30_Template, 2, 1, \"div\", 12);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(12);\n\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngModel\", ctx.nombre);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && !ctx.nombreValido());\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && !ctx.emailValido());\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && !ctx.passwordValido());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && ctx.successMessage);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n    styles: [\"main[_ngcontent-%COMP%]{background-image:url(/assets/Imagenes/fondoregistro.png);background-repeat:no-repeat;background-size:cover;height:100vh;display:flex;justify-content:center;align-items:center;box-shadow:0 0 20px #0000004d}.login-box[_ngcontent-%COMP%]{width:450px;margin:150px auto;padding:30px;border-radius:10px;background-color:#fff;box-shadow:0 0 20px #0000004d}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 30px;padding:0;text-align:center;font-size:2rem}.user-box[_ngcontent-%COMP%]{position:relative;margin:0 0 20px}.user-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:10px 0;font-size:1rem;color:#333;pointer-events:none;transition:.3s ease}.user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 0;border:none;border-bottom:2px solid #999;outline:none;font-size:1rem;color:#333;transition:.3s ease}.user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-20px;font-size:.8rem;color:#09f}button[type=submit][_ngcontent-%COMP%]{border:none;outline:none;width:100%;padding:10px 0;margin:20px 0;border-radius:20px;font-size:1.2rem;font-weight:700;text-transform:uppercase;cursor:pointer;transition:.5s ease;background-color:#09f;color:#fff}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#079f04}.error-message[_ngcontent-%COMP%]{color:red;font-weight:700}.success-message[_ngcontent-%COMP%]{color:green;font-weight:700}\"]\n  });\n  return RegistroComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}