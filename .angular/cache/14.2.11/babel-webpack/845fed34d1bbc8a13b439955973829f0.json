{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/perfil.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nconst _c0 = function (a1) {\n  return [\"/submodule\", a1, \"videos\"];\n};\n\nfunction SubmoduleComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 4);\n    i0.ɵɵtext(6, \"Ver Videos\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const submodule_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(submodule_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(submodule_r1.descripcion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, submodule_r1._id));\n  }\n}\n\nexport let SubmoduleComponent = /*#__PURE__*/(() => {\n  class SubmoduleComponent {\n    constructor(perfilService, route) {\n      this.perfilService = perfilService;\n      this.route = route;\n      this.moduleId = '';\n      this.submodules = [];\n    }\n\n    ngOnInit() {\n      this.moduleId = this.route.snapshot.paramMap.get('moduleId') ?? ''; // Obtener la lista de temas para el módulo\n\n      this.perfilService.getSubmodules(this.moduleId).subscribe({\n        next: submodules => {\n          this.submodules = submodules;\n        },\n        error: error => {\n          console.log('Error al obtener la lista de temas:', error);\n        }\n      });\n    }\n\n    createSubmodule(submoduleData) {\n      this.perfilService.createSubmodule(this.moduleId, submoduleData).subscribe({\n        next: createdSubmodule => {\n          this.submodules.push(createdSubmodule);\n        },\n        error: error => {\n          console.log('Error al crear el tema:', error);\n        }\n      });\n    }\n\n    updateSubmodule(submoduleId, submoduleData) {\n      this.perfilService.updateSubmodule(submoduleId, submoduleData).subscribe({\n        next: updatedSubmodule => {\n          const index = this.submodules.findIndex(submodule => submodule._id === submoduleId);\n\n          if (index !== -1) {\n            this.submodules[index] = updatedSubmodule;\n          }\n        },\n        error: error => {\n          console.log('Error al actualizar el tema:', error);\n        }\n      });\n    }\n\n    deleteSubmodule(submoduleId) {\n      this.perfilService.deleteSubmodule(submoduleId).subscribe({\n        next: () => {\n          this.submodules = this.submodules.filter(submodule => submodule._id !== submoduleId);\n        },\n        error: error => {\n          console.log('Error al eliminar el tema:', error);\n        }\n      });\n    }\n\n  }\n\n  SubmoduleComponent.ɵfac = function SubmoduleComponent_Factory(t) {\n    return new (t || SubmoduleComponent)(i0.ɵɵdirectiveInject(i1.PerfilService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  SubmoduleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SubmoduleComponent,\n    selectors: [[\"app-submodule\"]],\n    decls: 3,\n    vars: 1,\n    consts: [[1, \"submodule-container\"], [1, \"submodule-cards\"], [\"class\", \"submodule-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"submodule-card\"], [3, \"routerLink\"]],\n    template: function SubmoduleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, SubmoduleComponent_div_2_Template, 7, 5, \"div\", 2);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.submodules);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.RouterLink],\n    styles: [\"body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}.submodule-container[_ngcontent-%COMP%]{padding:20px}.submodule-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.submodule-card[_ngcontent-%COMP%]{width:calc(33.33% - 20px);margin-bottom:20px;padding:20px;background-color:#f5f5f5;border-radius:10px;box-shadow:0 2px 4px #000;transition:transform .3s ease}.submodule-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.submodule-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}button[_ngcontent-%COMP%]{border:none;outline:none;width:100%;padding:10px 0;margin:10px 0;border-radius:20px;font-size:1rem;font-weight:700;text-transform:uppercase;cursor:pointer;transition:.5s ease;background-color:#0d9a45;color:#fff}button[_ngcontent-%COMP%]:hover{background-color:#1c7097}\"]\n  });\n  return SubmoduleComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}